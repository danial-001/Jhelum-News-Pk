<%- include('layout/header') %>
<div class="container">
  <h2 class="mt-5">Edit News (<%= News.newsHeading %>)</h2>
  <form
    action="/update/<%= News._id %>"
    method="post"
    id="news-form"
    enctype="multipart/form-data"
  >
    <div class="form-group">
      <label for="newsTitle">News Title</label>
      <input
        type="text"
        class="form-control"
        id="newsTitle"
        name="newsHeading"
        placeholder="Enter title"
        value="<%= News.newsHeading %>"
      />
    </div>
    <div class="form-group">
      <label for="newsDescription">News Description</label>
      <textarea
        class="form-control"
        id="newsDescription"
        name="description"
        rows="3"
        placeholder="Enter description"
        dir="auto"
      ></textarea>
    </div>
    <div class="form-group">
      <label for="image">News Picture</label>
      <input
        type="file"
        name="image"
        class="form-control-file"
        id="newsPicture"
      />
      <img
        src="/<%= News.image %>"
        alt="edited picture"
        width="100"
        class="img-thumbnail mt-1"
      />
    </div>
    <input type="hidden" name="old_image" value="<%= News.image %>" />
    <button type="submit" value="Update News" class="btn btn-success">
      Update News
    </button>
  </form>
</div>
<script>
  window.addEventListener("DOMContentLoaded", (event) => {
    document.getElementById("newsDescription").value =
      "<%= News.description %>";
  });
</script>

<%- include('layout/footer') %>
